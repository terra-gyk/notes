`ss`（Socket Statistics）是 Linux 系统中用于查看套接字（sockets）统计信息的工具，它被设计为比传统的 `netstat` 更快、更强大。`ss` 提供了类似的功能，但通常执行得更快，并且可以显示更多的TCP状态。

---

## 🛠 基本语法

```bash
ss [选项]
```

### ✅ 常用选项

- `-t`：显示 TCP 连接
- `-u`：显示 UDP 连接
- `-l`：显示监听中的套接字
- `-n`：不解析服务名称，直接显示端口号
- `-p`：显示使用该套接字的进程 PID 和名称
- `-a`：显示所有套接字，包括已连接和监听中的
- `-r`：尝试解析数字地址/端口到名称（与 `-n` 相反）
- `-e`：显示详细的 socket 信息
- `-m`：显示 socket 使用的内存信息

---

## 📚 示例命令

### 1. **列出所有监听的 TCP 端口**

如果你想查找系统上正在监听的所有 TCP 端口：

```bash
ss -tuln
```

这将输出类似于以下内容：

```
State      Recv-Q Send-Q Local Address:Port               Peer Address:Port              
LISTEN     0      128    *:3002                          *:*                  
LISTEN     0      128    :::80                           :::*
```

### 2. **查看某个特定端口是否在监听**

例如，检查 3002 端口是否被监听：

```bash
ss -tuln | grep :3002
```

### 3. **查看占用某个端口的进程**

要找出哪个进程正在使用某个特定端口（比如 3002），可以使用 `-p` 选项：

```bash
ss -tulnp | grep :3002
```

示例输出：

```
tcp   LISTEN  0       128          *:3002                    *:*        users:(("node",pid=12345,fd=19))
```

### 4. **显示所有已建立的 TCP 连接**

如果你想查看所有已经建立的 TCP 连接：

```bash
ss -tn
```

加上 `-a` 参数也可以包含那些处于其他状态（如 TIME_WAIT, CLOSE_WAIT 等）的连接：

```bash
ss -tna
```

### 5. **获取详细 socket 信息**

如果你需要获取关于 sockets 的更多信息，比如内存使用情况等：

```bash
ss -tnel
```

这里的 `-e` 参数提供了额外的信息，而 `-l` 则限制了输出仅限于监听状态的 sockets。

### 6. **显示帮助信息**

如果不确定如何使用某个选项或想查看更多细节，可以查阅帮助手册：

```bash
ss --help
```

或者通过 man 页面获取更全面的帮助文档：

```bash
man ss
```

---

## 🔍 总结

| 功能 | `ss` 命令 |
|------|-----------|
| 查看所有监听的 TCP 端口 | `ss -tuln` |
| 查找特定端口是否被监听 | `ss -tuln | grep :<port>` |
| 查看占用特定端口的进程 | `ss -tulnp | grep :<port>` |
| 显示所有已建立的 TCP 连接 | `ss -tn` 或 `ss -tna` （含非监听状态） |
| 获取详细 socket 信息 | `ss -tnel` |

`ss` 是一个非常强大的工具，对于网络诊断和性能调优来说是非常有用的。根据你的具体需求，你可以组合不同的参数来获得所需的信息。如果你有更具体的场景或问题，欢迎继续提问！