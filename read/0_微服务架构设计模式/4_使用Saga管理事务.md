- 如何实现跨多个服务的事务。
- 跨服务的操作必须使用所谓的Saga（一种消息驱动的本地事务序列）来维护数据一致性，而不是ACID事务。
- Saga的一个挑战在于只满足ACD（原子性、一致性和持久性）特征，而缺乏传统ACID事务的隔离性。
- 因此程序必须使用所谓的对策，找到办法来防止或减少缺乏隔离而导致的并发异常。

## 4.1 微服务架构下的事务管理

### 4.1.1 微服务架构对分布式事务的需求

- 如果每个服务都有自己的私有数据库，需要一种机制来保障多数据库环境下的数据一致性。

### 4.1.2 分布式事务的挑战

- 多个服务、数据库和消息代理之间维持数据一致性的传统方式是采用分布式事务。
- 存在没有标准事务的 NoSQL。
- 分布式事务需要在进程间通讯，会降低分布式系统的可用性。

### 4.1.3 使用Saga模式维护数据一致性

- Saga是一种在微服务架构中维护数据一致性的机制，它可以避免分布式事务所带来的问题。
- 一个Saga表示需要更新多个服务中数据的一个系统操作。
- Saga由一连串的本地事务组成。

